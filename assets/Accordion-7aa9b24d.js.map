{"version":3,"file":"Accordion-7aa9b24d.js","sources":["../../src/components/Accordion.vue","../../src/components/Accordion.vue?vue&type=template&lang.js"],"sourcesContent":["<template>\n  <div\n    class=\"s-accordion\"\n    :class=\"[accordionClasses]\"\n    tabindex=\"0\"\n    @keydown.space.self.prevent=\"openContent\"\n  >\n    <div\n      class=\"s-accordion__head\"\n      :class=\"{ 'is-open': isOpen }\"\n      @click=\"openContent\"\n    >\n      <div class=\"s-accordion__button\">\n        <slot name=\"open-close-icon\" :is-open=\"isOpen\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14px\" height=\"14px\">\n            <path\n              class=\"s-accordion__svg--back\"\n              d=\"M13 14H1a1 1 0 0 1-1-1V1c0-.6.5-1 1-1h12c.6 0 1 .5 1 1v12c0 .6-.4 1-1 1z\"\n              fill=\"#e3e8eb\"\n            />\n            <transition name=\"twist-h\">\n              <g v-if=\"!isOpen\">\n                <path\n                  class=\"s-accordion__svg--line\"\n                  d=\"M10 8H4a1 1 0 0 1-1-1c0-.6.5-1 1-1h6c.6 0 1 .5 1 1s-.4 1-1 1z\"\n                />\n                <path\n                  class=\"s-accordion__svg--line\"\n                  d=\"M8 4v6c0 .6-.5 1-1 1a1 1 0 0 1-1-1V4c0-.6.5-1 1-1s1 .5 1 1z\"\n                />\n              </g>\n            </transition>\n            <transition name=\"twist-v\">\n              <path\n                class=\"s-accordion__svg--line\"\n                d=\"M10 8H4a1 1 0 0 1-1-1c0-.6.5-1 1-1h6c.6 0 1 .5 1 1s-.4 1-1 1z\"\n                v-if=\"isOpen\"\n              />\n            </transition>\n          </svg>\n        </slot>\n      </div>\n      <div class=\"s-accordion--title\" v-if=\"hasTitleSlot\">\n        <slot name=\"title\" />\n      </div>\n      <div class=\"s-accordion--title\" v-else>{{ accordionTitle }}</div>\n    </div>\n    <transition\n      name=\"expand\"\n      @enter=\"open\"\n      @after-enter=\"afterOpen\"\n      @leave=\"close\"\n    >\n      <div\n        class=\"s-accordion__content\"\n        :class=\"[{ 'is-open': isOpen }, { 'left-nav': leftNav }]\"\n        v-if=\"isOpen\"\n      >\n        <slot name=\"content\" :is-open=\"isOpen\" />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport { escape } from \"lodash-es\";\n\n@Component({})\nexport default class Accordian extends Vue {\n  @Prop()\n  openedTitle!: string;\n\n  @Prop()\n  closedTitle!: string;\n\n  @Prop()\n  title!: string;\n\n  @Prop()\n  isOpened!: boolean;\n\n  @Prop()\n  noBorder!: boolean;\n\n  @Prop()\n  leftNav!: boolean;\n\n  @Prop()\n  value!: boolean;\n\n  private isOpen = false;\n  private focused = false;\n  private defaultBorder = false;\n\n  @Watch(\"value\")\n  handleIsOpened(val) {\n    this.isOpen = val;\n  }\n\n  @Watch(\"isOpen\")\n  handleIsOpen(val) {\n    this.$emit(\"input\", val);\n  }\n\n  get accordionTitle() {\n    if (this.title !== undefined) {\n      return this.title;\n    } else {\n      if (this.isOpen) {\n        return this.openedTitle;\n      } else {\n        return this.closedTitle;\n      }\n    }\n  }\n\n  get hasTitleSlot() {\n    return !!this.$slots.title;\n  }\n\n  get accordionClasses() {\n    let classes: any = [];\n    if (this.noBorder) {\n      classes.push(\"no-border\");\n    }\n    if (this.leftNav) {\n      classes.push(\"left-nav\");\n    }\n    return classes.join(\" \");\n  }\n\n  isKeyFocused(event) {\n    console.log(\"TCL: Accordian -> isKeyFocused -> event\", event);\n  }\n\n  openContent(event: any) {\n    let blockedNodes = [\"INPUT\", \"BUTTON\", \"LABEL\"];\n    if (\n      blockedNodes.indexOf(event.target.nodeName) !== -1 ||\n      blockedNodes.indexOf(event.target.parentNode.parentNode.nodeName) !== -1\n    ) {\n      return;\n    }\n    this.isOpen = !this.isOpen;\n    this.$emit(\"content-opened\", { isOpen: this.isOpen, event });\n  }\n\n  afterOpen(element) {\n    element.style.height = \"auto\";\n  }\n\n  open(element) {\n    let width = getComputedStyle(element).width;\n    element.style.width = width;\n    element.style.position = `absolute`;\n    element.style.visibility = `hidden`;\n    element.style.height = `auto`;\n    let height = getComputedStyle(element).height;\n    element.style.width = null;\n    element.style.position = null;\n    element.style.visibility = null;\n    element.style.height = 0;\n    getComputedStyle(element).height;\n    setTimeout(() => {\n      element.style.height = height;\n    });\n  }\n\n  close(element) {\n    let height = getComputedStyle(element).height;\n    element.style.height = height;\n    getComputedStyle(element).height;\n    setTimeout(() => {\n      element.style.height = 0;\n    });\n  }\n\n  mounted() {\n    if (this.value) {\n      this.isOpen = this.value;\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import (reference) \"./../styles/Imports\";\n\n.s-accordion {\n  .margin-bottom(3);\n  .padding(2);\n  border: 1px solid @day-input-border;\n  .radius();\n  text-align: left;\n  background-color: @day-bg;\n  .transition(border);\n  outline: none;\n\n  &.no-border {\n    border: 1px solid transparent;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  &.left-nav {\n    border: none;\n    .padding(0);\n    .margin-bottom(0);\n\n    .s-accordion__content {\n      .padding-left(0);\n    }\n\n    .s-accordion__head {\n      &.is-open {\n        .margin-bottom(0);\n      }\n    }\n\n    .s-accordion__button {\n      .margin-right(1.5);\n    }\n  }\n\n  &__container {\n  }\n\n  &__head {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n\n    &.is-open {\n      .margin-bottom(2);\n    }\n\n    .s-accordion--title {\n      width: 100%;\n      color: @day-title;\n      transform: translateY(1px); // for better visual alignment;\n    }\n\n    &:hover {\n      cursor: default;\n    }\n  }\n\n  &__button {\n    display: inline-flex;\n    .margin-right(2);\n  }\n\n  svg,\n  g,\n  path {\n    transform-origin: 7px 7px;\n  }\n\n  &__svg--back {\n    fill: @light-3;\n  }\n\n  &__svg--line {\n    fill: @light-5;\n    transform-origin: 7px 7px;\n  }\n\n  &--title {\n    font-weight: @medium;\n    font-size: 14px;\n  }\n}\n\n.night,\n.night-theme {\n  .s-accordion {\n    border-color: @night-input-border;\n    background-color: @night-bg;\n\n    &:focus > .s-accordion {\n      border-color: @white;\n    }\n\n    &.no-border {\n      border: 1px solid transparent;\n    }\n\n    &__head {\n      .s-accordion--title {\n        color: @night-title;\n      }\n    }\n\n    &__svg--back {\n      fill: @dark-5;\n    }\n\n    &__svg--line {\n      fill: @light-4;\n    }\n  }\n}\n\n.expand-enter-active,\n.expand-leave-active {\n  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n  overflow: hidden;\n}\n.expand-enter,\n.expand-leave-to {\n  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);\n  height: 0;\n  opacity: 0;\n}\n\n.twist-h-enter-active,\n.twist-h-leave-active {\n  transition: all 0.25s ease-in-out;\n  transform: rotate(-90deg);\n  opacity: 1;\n}\n.twist-h-enter,\n.twist-h-leave-to {\n  transition: all 0.25s ease-in-out;\n  transform: rotate(-90deg);\n  opacity: 0;\n}\n\n.twist-v-enter-active,\n.twist-v-leave-active {\n  transition: all 0.25s ease-in-out;\n  transform: rotate(-180deg);\n  opacity: 1;\n}\n.twist-v-enter,\n.twist-v-leave-to {\n  transition: all 0.25s ease-in-out;\n  transform: rotate(-180deg);\n  opacity: 0;\n}\n</style>\n","\n<div\n  class=\"s-accordion\"\n  :class=\"[accordionClasses]\"\n  tabindex=\"0\"\n  @keydown.space.self.prevent=\"openContent\"\n>\n  <div\n    class=\"s-accordion__head\"\n    :class=\"{ 'is-open': isOpen }\"\n    @click=\"openContent\"\n  >\n    <div class=\"s-accordion__button\">\n      <slot name=\"open-close-icon\" :is-open=\"isOpen\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14px\" height=\"14px\">\n          <path\n            class=\"s-accordion__svg--back\"\n            d=\"M13 14H1a1 1 0 0 1-1-1V1c0-.6.5-1 1-1h12c.6 0 1 .5 1 1v12c0 .6-.4 1-1 1z\"\n            fill=\"#e3e8eb\"\n          />\n          <transition name=\"twist-h\">\n            <g v-if=\"!isOpen\">\n              <path\n                class=\"s-accordion__svg--line\"\n                d=\"M10 8H4a1 1 0 0 1-1-1c0-.6.5-1 1-1h6c.6 0 1 .5 1 1s-.4 1-1 1z\"\n              />\n              <path\n                class=\"s-accordion__svg--line\"\n                d=\"M8 4v6c0 .6-.5 1-1 1a1 1 0 0 1-1-1V4c0-.6.5-1 1-1s1 .5 1 1z\"\n              />\n            </g>\n          </transition>\n          <transition name=\"twist-v\">\n            <path\n              class=\"s-accordion__svg--line\"\n              d=\"M10 8H4a1 1 0 0 1-1-1c0-.6.5-1 1-1h6c.6 0 1 .5 1 1s-.4 1-1 1z\"\n              v-if=\"isOpen\"\n            />\n          </transition>\n        </svg>\n      </slot>\n    </div>\n    <div class=\"s-accordion--title\" v-if=\"hasTitleSlot\">\n      <slot name=\"title\" />\n    </div>\n    <div class=\"s-accordion--title\" v-else>{{ accordionTitle }}</div>\n  </div>\n  <transition\n    name=\"expand\"\n    @enter=\"open\"\n    @after-enter=\"afterOpen\"\n    @leave=\"close\"\n  >\n    <div\n      class=\"s-accordion__content\"\n      :class=\"[{ 'is-open': isOpen }, { 'left-nav': leftNav }]\"\n      v-if=\"isOpen\"\n    >\n      <slot name=\"content\" :is-open=\"isOpen\" />\n    </div>\n  </transition>\n</div>\n"],"names":[],"mappings":"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"}