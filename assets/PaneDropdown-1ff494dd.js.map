{"version":3,"file":"PaneDropdown-1ff494dd.js","sources":["../../src/components/PaneDropdown.vue","../../src/components/PaneDropdown.vue?vue&type=template&lang.js"],"sourcesContent":["<template>\n  <div\n    ref=\"paneMenu\"\n    class=\"s-pane-dropdown\"\n    @blur.stop.prevent=\"close\"\n    v-on=\"hoverOption ? { mouseleave: hide } : {}\"\n  >\n    <div\n      ref=\"paneToggle\"\n      class=\"s-pane-dropdown__toggle\"\n      :class=\"{ 's-pane-dropdown__toggle--active': paneMenuOpen }\"\n      @click=\"paneMenuOpen = !paneMenuOpen\"\n      v-on=\"hoverOption ? { mouseover: show } : {}\"\n      :tabindex=\"0\"\n      @keydown.space.prevent=\"paneMenuOpen = !paneMenuOpen\"\n      @keydown.enter.prevent=\"paneMenuOpen = !paneMenuOpen\"\n      @keydown.esc.prevent=\"hide\"\n      @keydown.tab.shift=\"hide\"\n    >\n      <span>\n        <slot name=\"title\"></slot>\n        <i v-if=\"dropdownIcon\" class=\"icon-dropdown\"></i>\n      </span>\n    </div>\n\n    <transition\n      name=\"expand-dropdown\"\n      @enter=\"open\"\n      @after-enter=\"afterOpen\"\n      @leave=\"close\"\n    >\n      <div\n        v-show=\"paneMenuOpen\"\n        :class=\"menuClasses\"\n        class=\"s-pane-dropdown__menu\"\n      >\n        <slot v-if=\"custom\"></slot>\n        <div\n          ref=\"paneList\"\n          v-else\n          @mouseup=\"onMenuClick\"\n          @keydown.esc.prevent=\"hide\"\n          class=\"s-pane-dropdown__list\"\n        >\n          <slot></slot>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Watch, Vue } from \"vue-property-decorator\";\nimport { mixin as vFocus } from \"vue-focus\";\n\n@Component({\n  name: \"PaneDropdown\",\n  mixins: [vFocus]\n})\nexport default class PaneDropdown extends Vue {\n  $refs!: {\n    paneMenu: HTMLDivElement;\n    paneList: HTMLDivElement;\n  };\n\n  @Prop({ default: true })\n  dropdownIcon!: boolean;\n\n  @Prop({ default: null })\n  menuAlign!: string;\n\n  @Prop({ default: false })\n  openAbove!: boolean;\n\n  @Prop({ default: false })\n  autoHeight!: boolean;\n\n  @Prop({ default: true })\n  closeOnSelect!: boolean;\n\n  @Prop({ default: false })\n  custom!: boolean;\n\n  @Prop({ default: false })\n  relativeMenu!: boolean;\n\n  @Prop({ default: false })\n  simpleMenu!: boolean;\n\n  @Prop({ default: false })\n  hoverOption!: boolean;\n\n  @Prop({ default: false })\n  nested!: boolean;\n\n  paneMenuOpen = false;\n\n  created() {\n    document.addEventListener(\"click\", this.documentClick);\n  }\n\n  destroyed() {\n    document.removeEventListener(\"click\", this.documentClick);\n  }\n\n  get menuClasses() {\n    let classes: string[] = [];\n\n    if (this.menuAlign) {\n      classes.push(`s-pane-dropdown__menu--${this.menuAlign}`);\n    }\n\n    if (this.openAbove) {\n      classes.push(\"s-pane-dropdown__menu--top\");\n    }\n\n    if (this.autoHeight) {\n      classes.push(\"s-pane-dropdown__menu--auto-height\");\n    }\n\n    if (this.relativeMenu) {\n      classes.push(\"s-pane-dropdown__menu--relative\");\n    }\n\n    if (this.simpleMenu) {\n      classes.push(\"s-pane-dropdown__menu--simple\");\n    }\n\n    return classes;\n  }\n\n  @Watch(\"paneMenuOpen\")\n  watchPaneMenuOpen(newVal) {\n    if (newVal && !this.custom) {\n      this.$nextTick(() => {\n        const list = this.$refs.paneList;\n        const lastSlotItem = list.lastElementChild as HTMLElement;\n        const onTab = e => {\n          if (e.keyCode === 9 && !e.shiftKey) this.hide();\n        };\n\n        lastSlotItem.addEventListener(\"keydown\", onTab);\n      });\n    }\n  }\n\n  afterOpen(element) {\n    element.style.height = \"auto\";\n  }\n\n  open(element) {\n    let width = getComputedStyle(element).width;\n    element.style.width = width;\n    let maxWidth = getComputedStyle(element).width;\n    element.style.maxWidth = maxWidth;\n    element.style.position = `absolute`;\n    element.style.visibility = `hidden`;\n    element.style.height = `auto`;\n    let height = getComputedStyle(element).height;\n    element.style.width = null;\n    element.style.position = null;\n    element.style.visibility = null;\n    element.style.height = 0;\n    getComputedStyle(element).height;\n    setTimeout(() => {\n      element.style.height = height;\n    });\n  }\n\n  close(element) {\n    if (\"target\" in element) return;\n\n    let height = getComputedStyle(element).height;\n    element.style.height = height;\n    getComputedStyle(element).height;\n    setTimeout(() => {\n      element.style.height = 0;\n    });\n  }\n\n  documentClick(e: Event) {\n    let el: any = this.$refs.paneMenu;\n    let target = e.target;\n    if (el !== target && !el.contains(target)) {\n      this.paneMenuOpen = false;\n    }\n  }\n\n  onMenuClick() {\n    this.closeOnSelect ? (this.paneMenuOpen = !this.paneMenuOpen) : null;\n  }\n\n  hide() {\n    this.paneMenuOpen = false;\n  }\n\n  show() {\n    this.paneMenuOpen = true;\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import (reference) \"./../styles/Imports\";\n\n.s-pane-dropdown {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n  padding: 3px 0;\n\n  &__slot-list {\n    display: none;\n  }\n\n  &__menu {\n    position: absolute;\n    top: 24px;\n    z-index: 100;\n    width: auto;\n    max-height: 300px;\n    margin: 0;\n    padding: 0;\n    .radius();\n    text-align: left;\n    list-style-type: none;\n    background-color: @white;\n    box-shadow: 0 6px 14px rgba(55, 71, 79, 0.1);\n    overflow-y: auto;\n\n    &--auto-height {\n      max-height: initial;\n    }\n  }\n\n  &__menu--right {\n    right: 0;\n  }\n\n  &__menu--center {\n    left: 50%;\n    transform: translateX(-50%);\n  }\n\n  &__menu--top {\n    bottom: calc(100% + 8px);\n    top: unset;\n  }\n\n  &__menu--relative {\n    position: relative;\n    top: 0;\n  }\n\n  &__menu--simple {\n    background-color: transparent;\n    box-shadow: none;\n\n    .s-pane-dropdown__list {\n      .margin(0);\n    }\n  }\n\n  &__icon {\n    .margin-right();\n  }\n\n  &__list {\n    .margin(2);\n    padding: 0;\n    list-style-type: none;\n\n    .s-pane-dropdown {\n      &__toggle {\n        margin-bottom: 0;\n      }\n\n      &__menu {\n        position: relative;\n        top: 4px;\n        box-shadow: none;\n      }\n\n      &__list {\n        margin: 8px 8px 0;\n      }\n    }\n\n    hr {\n      width: 100%;\n      margin: 12px 0 16px;\n      border: none;\n      border-bottom: 1px solid @light-3;\n    }\n\n    a {\n      display: flex;\n      align-items: center;\n      text-decoration: none;\n      white-space: nowrap;\n      .margin-bottom();\n\n      &:last-of-type {\n        margin-bottom: 4px;\n      }\n    }\n\n    i {\n      .margin-right();\n    }\n  }\n\n  &__toggle {\n    display: flex;\n    .weight(@medium);\n    .transition();\n    text-decoration: none;\n    cursor: pointer;\n\n    & span {\n      display: flex;\n      align-items: center;\n      white-space: nowrap;\n    }\n\n    i {\n      color: @icon;\n      .margin-left();\n      margin-top: -2px;\n    }\n  }\n\n  &__toggle--active {\n    color: @dark-2;\n\n    i {\n      color: @dark-2;\n    }\n  }\n}\n\n.night {\n  .s-pane-dropdown {\n    &__toggle {\n      &:hover {\n        color: @white;\n      }\n    }\n\n    &__toggle--active {\n      color: white;\n\n      i {\n        color: white;\n      }\n    }\n\n    &__menu {\n      background-color: @dark-4;\n    }\n\n    &__menu--simple {\n      background-color: transparent;\n    }\n\n    &__list {\n      hr {\n        border-bottom-color: @dark-5;\n      }\n    }\n\n    a {\n      &:hover {\n        color: @night-title;\n      }\n    }\n  }\n}\n\n.expand-dropdown-enter-active {\n  animation: dropdown-fadein 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes dropdown-fadein {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>\n","\n<div\n  ref=\"paneMenu\"\n  class=\"s-pane-dropdown\"\n  @blur.stop.prevent=\"close\"\n  v-on=\"hoverOption ? { mouseleave: hide } : {}\"\n>\n  <div\n    ref=\"paneToggle\"\n    class=\"s-pane-dropdown__toggle\"\n    :class=\"{ 's-pane-dropdown__toggle--active': paneMenuOpen }\"\n    @click=\"paneMenuOpen = !paneMenuOpen\"\n    v-on=\"hoverOption ? { mouseover: show } : {}\"\n    :tabindex=\"0\"\n    @keydown.space.prevent=\"paneMenuOpen = !paneMenuOpen\"\n    @keydown.enter.prevent=\"paneMenuOpen = !paneMenuOpen\"\n    @keydown.esc.prevent=\"hide\"\n    @keydown.tab.shift=\"hide\"\n  >\n    <span>\n      <slot name=\"title\"></slot>\n      <i v-if=\"dropdownIcon\" class=\"icon-dropdown\"></i>\n    </span>\n  </div>\n\n  <transition\n    name=\"expand-dropdown\"\n    @enter=\"open\"\n    @after-enter=\"afterOpen\"\n    @leave=\"close\"\n  >\n    <div\n      v-show=\"paneMenuOpen\"\n      :class=\"menuClasses\"\n      class=\"s-pane-dropdown__menu\"\n    >\n      <slot v-if=\"custom\"></slot>\n      <div\n        ref=\"paneList\"\n        v-else\n        @mouseup=\"onMenuClick\"\n        @keydown.esc.prevent=\"hide\"\n        class=\"s-pane-dropdown__list\"\n      >\n        <slot></slot>\n      </div>\n    </div>\n  </transition>\n</div>\n"],"names":["PaneDropdown","vFocus"],"mappings":"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"}