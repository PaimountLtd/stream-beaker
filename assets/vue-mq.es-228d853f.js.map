{"version":3,"file":"vue-mq.es-228d853f.js","sources":["../../node_modules/string-convert/camel2hyphen.js","../../node_modules/json2mq/index.js","../../node_modules/vue-mq/dist/vue-mq.es.js"],"sourcesContent":["var camel2hyphen = function (str) {\n  return str\n          .replace(/[A-Z]/g, function (match) {\n            return '-' + match.toLowerCase();\n          })\n          .toLowerCase();\n};\n\nmodule.exports = camel2hyphen;","var camel2hyphen = require('string-convert/camel2hyphen');\n\nvar isDimension = function (feature) {\n  var re = /[height|width]$/;\n  return re.test(feature);\n};\n\nvar obj2mq = function (obj) {\n  var mq = '';\n  var features = Object.keys(obj);\n  features.forEach(function (feature, index) {\n    var value = obj[feature];\n    feature = camel2hyphen(feature);\n    // Add px to dimension features\n    if (isDimension(feature) && typeof value === 'number') {\n      value = value + 'px';\n    }\n    if (value === true) {\n      mq += feature;\n    } else if (value === false) {\n      mq += 'not ' + feature;\n    } else {\n      mq += '(' + feature + ': ' + value + ')';\n    }\n    if (index < features.length-1) {\n      mq += ' and '\n    }\n  });\n  return mq;\n};\n\nvar json2mq = function (query) {\n  var mq = '';\n  if (typeof query === 'string') {\n    return query;\n  }\n  // Handling array of media queries\n  if (query instanceof Array) {\n    query.forEach(function (q, index) {\n      mq += obj2mq(q);\n      if (index < query.length-1) {\n        mq += ', '\n      }\n    });\n    return mq;\n  }\n  // Handling single media query\n  return obj2mq(query);\n};\n\nmodule.exports = json2mq;","import json2mq from 'json2mq';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction convertBreakpointsToMediaQueries(breakpoints) {\n  var keys = Object.keys(breakpoints);\n  var values = keys.map(function (key) {\n    return breakpoints[key];\n  });\n  var breakpointValues = [0].concat(_toConsumableArray(values.slice(0, -1)));\n  var mediaQueries = breakpointValues.reduce(function (sum, value, index) {\n    var options = Object.assign({\n      minWidth: value\n    }, index < keys.length - 1 ? {\n      maxWidth: breakpointValues[index + 1] - 1\n    } : {});\n    var mediaQuery = json2mq(options);\n    return Object.assign(sum, _defineProperty({}, keys[index], mediaQuery));\n  }, {});\n  return mediaQueries;\n}\nfunction transformValuesFromBreakpoints(breakpoints, values, currentBreakpoint) {\n  var findClosestValue = function findClosestValue(currentBreakpoint) {\n    if (values[currentBreakpoint] !== undefined) return values[currentBreakpoint];\n    var index = breakpoints.findIndex(function (b) {\n      return b === currentBreakpoint;\n    });\n    var newBreakpoint = index !== -1 || index !== 0 ? breakpoints[index - 1] : null;\n    if (!newBreakpoint) return values[index];\n    return values[newBreakpoint] !== undefined ? values[newBreakpoint] : findClosestValue(newBreakpoint);\n  };\n\n  return findClosestValue(currentBreakpoint);\n}\nfunction selectBreakpoints(breakpoints, currentBreakpoint) {\n  var index = breakpoints.findIndex(function (b) {\n    return b === currentBreakpoint;\n  });\n  return breakpoints.slice(index);\n}\nfunction subscribeToMediaQuery(mediaQuery, enter) {\n  var mql = window.matchMedia(mediaQuery);\n\n  var cb = function cb(_ref) {\n    var matches = _ref.matches;\n    if (matches) enter();\n  };\n\n  mql.addListener(cb); //subscribing\n\n  cb(mql); //initial trigger\n}\n\nfunction isArray(arg) {\n  return Object.prototype.toString.call(arg) === '[object Array]';\n}\n\n// USAGE\n// mq-layout(mq=\"lg\")\n//   p Iâ€™m lg\nvar component = {\n  props: {\n    mq: {\n      required: true,\n      type: [String, Array]\n    }\n  },\n  computed: {\n    plusModifier: function plusModifier() {\n      return !isArray(this.mq) && this.mq.slice(-1) === '+';\n    },\n    activeBreakpoints: function activeBreakpoints() {\n      var breakpoints = Object.keys(this.$mqAvailableBreakpoints);\n      var mq = this.plusModifier ? this.mq.slice(0, -1) : isArray(this.mq) ? this.mq : [this.mq];\n      return this.plusModifier ? selectBreakpoints(breakpoints, mq) : mq;\n    }\n  },\n  render: function render(h, props) {\n    var shouldRenderChildren = this.activeBreakpoints.includes(this.$mq);\n    return shouldRenderChildren ? h('div', this.$slots.default) : h();\n  }\n};\n\nvar DEFAULT_BREAKPOINT = {\n  sm: 450,\n  md: 1250,\n  lg: Infinity\n};\n\nvar install = function install(Vue) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$breakpoints = _ref.breakpoints,\n      breakpoints = _ref$breakpoints === void 0 ? DEFAULT_BREAKPOINT : _ref$breakpoints,\n      _ref$defaultBreakpoin = _ref.defaultBreakpoint,\n      defaultBreakpoint = _ref$defaultBreakpoin === void 0 ? 'sm' : _ref$defaultBreakpoin;\n\n  var hasSetupListeners = false; // Init reactive component\n\n  var reactorComponent = new Vue({\n    data: function data() {\n      return {\n        currentBreakpoint: defaultBreakpoint\n      };\n    }\n  });\n  Vue.filter('mq', function (currentBreakpoint, values) {\n    return transformValuesFromBreakpoints(Object.keys(breakpoints), values, currentBreakpoint);\n  });\n  Vue.mixin({\n    computed: {\n      $mq: function $mq() {\n        return reactorComponent.currentBreakpoint;\n      }\n    },\n    created: function created() {\n      if (this.$isServer) reactorComponent.currentBreakpoint = defaultBreakpoint;\n    },\n    mounted: function mounted() {\n      if (!hasSetupListeners) {\n        var mediaQueries = convertBreakpointsToMediaQueries(breakpoints); // setup listeners\n\n        var _loop = function _loop(key) {\n          var mediaQuery = mediaQueries[key];\n\n          var enter = function enter() {\n            reactorComponent.currentBreakpoint = key;\n          };\n\n          subscribeToMediaQuery(mediaQuery, enter);\n        };\n\n        for (var key in mediaQueries) {\n          _loop(key);\n        }\n\n        hasSetupListeners = true;\n      }\n    }\n  });\n  Vue.prototype.$mqAvailableBreakpoints = breakpoints;\n  Vue.component('MqLayout', component);\n};\n\nvar index = {\n  install: install\n};\n\nexport default index;\n"],"names":["camel2hyphen","require$$0","index","json2mq","findClosestValue","currentBreakpoint","cb","install","_loop","key","enter"],"mappings":"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","x_google_ignoreList":[0,1,2]}